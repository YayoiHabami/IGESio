# PDセクションにおけるエンティティパラメータの数

## パラメータデータセクションのフィールド数

　エンティティのパラメータデータセクションの$n$番目のパラメータを$p(n)$とする。最初のパラメータフィールドは常にエンティティタイプ番号であり、以下に示すパラメータ数にはこのフィールドは含まれていない。

　例えば、エンティティタイプ100は7つのパラメータを持つため、パラメータデータセクションの行 `"100,10.,-10.,25.,5.,25.-10.40.;"` は以下の7つのパラメータを持つと考える：

$$p(1) = 10, p(2) = -10, p(3) = 25, p(4) = 5, p(5) = 25, p(6) = -10, p(7) = 40.$$

　以下の子要素（`Position of Child Elements`で参照する要素）は「物理的に依存する」子要素を表す。ここで、エンティティAのエンティティBに対する物理的依存性とは、エンティティAがエンティティBのPDセクションのパラメータ（追加ポインタを除く）によって参照されることを意味する。この場合、このエンティティは親なしでは存在できず、親の変換マトリックスがその子に適用される。

　`Position of Child Elements`の列で、$3^0$ はその値が非ゼロの正の場合、DEセクションへのポインタを持つことを示し、$3^-$ はその値が負の場合、その絶対値がDEセクションへのポインタを持つことを示す。その他の数字（$3$など）は、その位置の数字がDEセクションへのポインタであることを単に示している。

- $p(3^0)$ は $p(3) > 0$ の場合、DEセクションの $p(3)$ 要素へのポインタである。
  - $p(3^\varnothing)$ は $p(3)$ がnullでない場合、DEセクションの $p(3)$ 要素へのポインタである。
- $p(3^-)$ は $p(3) < 0$ の場合、DEセクションの $|p(3)|$ 要素へのポインタである。
- $p(3)$ は常にDEセクションの $p(3)$ 要素へのポインタである。

また、`Position of Child Elements`における $a \;\text{to}\; b$ のような表現は、$a$ から $b$ までのすべての数がDEセクションへのポインタであることを示す。変数を使用して範囲を定義することもできる。例えば、$5i \;\text{to}\; 5i+2\; (i=1\ldots N)$ は $i=1$ から $N$ までの全ての $5i$ から $5i+2$ の範囲である（つまり、$5,6,7,\; 10,11,12,\; \ldots,\; 5N,5N+1,5N+2$）。

|Type| Form| Size Specifier | Number of Parameters | Position of Child Elements |
|:--:|:---:|----------------|---|---|
| 0  | -   | - | $0$ | - |
| 100| 0   | - | $7$ | - |
| 102| 0   | $N = p(1)$ | $1+N$ | $2 \;\text{to}\; N+1$ |
| 104| 1~3 | - | $11$ | - |
| 106| 1,11,20~63| $N = p(2)$ | $3+2N$<br> | - |
| ^  | 2,12| ^ | $2+3N$ | - |
| ^  | 3,13| ^ | $2+6N$ | - |
| 108| 0   | - | $9$ | - |
| ^  | -1,1| - | ^   | $5$ |
| 110| 0~2 | - | $6$ | - |
| 112| 0   | $N = p(4)$ | $17+13N$ | - |
| 114| 0   | $M = p(3)$<br>$N = p(4)$ | $6+M+N + 48(M+1)(N+1)$ | - |
| 116| 0   | - | $4$ | $4^0$ |
| 118| 0,1 | - | $4$ | $1$, $2$ |
| 120| 0   | - | $4$ | $1$, $2$ |
| 122| 0   | - | $4$ | $1$ |
| 123| 0   | - | $3$ | - |
| 124| 0,1,10~12| - | $12$ | - |
| 125| 0~4 | - | $6$ | $6^0$ |
| 126| 0~6 | $K = p(1)$<br>$M = p(2)$ | $17+5K+M$ | - |
| 128| 0~9 | $K_1 = p(1)$<br>$K_2 = p(2)$<br>$M_1 = p(3)$<br>$M_2 = p(4)$ | $18 + 2(K_1 + K_2) + K_1K_2 + M_1 + M_2$ | - |
| 130| 0   | - | $14$ | $1$, $3^0$ |
| 132| 0   | - | $14$ | $4^\varnothing$, $8^\varnothing$, $10^\varnothing$, $14^\varnothing$ |
| 134| 0   | - | $4$ | $4^0$ |
| 136| 0   | $N = p(2)$ | $3+N$ | $3 \;\text{to}\; 2+N$ |
| 138| 0   | $N_C = p(1)$<br>$N_N = p(2+N_C)$ | $2+N_C+N_N(2+6N_C)$ | $2 \;\text{to}\; 1+N_C$, $3+N_C+(i-1)(2+6N_C)\; (i=1\ldots N_N)$ |
| 140| 0   | - | $5$ | $5$ |
| 141| 0   | $N = p(4)$<br>$K(i) = p(7+3(i-1)+\sum_{j=1}^{i-1}K(j))$ | $4+3N+\sum_{i=1}^{N}K(i)$ | $3$, $5+3(i-1)+\sum_{j=1}^{i-1}K(j)\; (i=1\ldots N)$, $8+3(i-1)+\sum_{j=1}^{i-1}K(j) \;\text{to}\; 4+3i+\sum_{j=1}^{i}K(j)\; (i=1\ldots N)$ |
| 142| 0   | - | $5$ | $2 \;\text{to}\; 4$ |
| 143| 0   | $N = p(3)$ | $3+N$ | $4 \;\text{to}\; 3+N$ (Type 141) |
| 144| 0   | $N_2 = p(3)$ | $4+N_2$ | $1$, $4^0$, $5 \;\text{to}\; 4+N_2$ |
| 146| 0~34| $N_V = p(4)$<br>$N_N = p(5)$ | $5 + N_N(N_V+2)$ | $1$, $7+(i-1)(N_V+2)\; (i=1\ldots N_N)$ |
| 148| 0~34|
| 150| 0   | - | $12$ | - |
| 152| 0   | - | $13$ | - |
| 154| 0   | - | $8$ | - |
| 156| 0   | - | $9$ | - |
| 158| 0   | - | $4$ | - |
| 160| 0   | - | $8$ | - |
| 162| 0,1 | - | $8$ | $1$ |
| 164| 0   | - | $5$ | $1$ |
| 168| 0   | - | $12$ | - |
| 180| 0,1 | $N = p(1)$ | $N+1$ | $2^- \;\text{to}\; N^-$ |
| 182| 0   | - | $4$ | $1$ |
| 184| 0,1 | $N = p(1)$ | $1+2N$ | $2 \;\text{to}\; 1+2N$ |
| 186| 0   | $N = p(3)$ | $3+2N$ | $1$, $4+2(i-1)\; (i=1\ldots N)$ |
| 190| 0   | - | $2$ | $1$, $2$ |
| ^  | 1   | - | $3$ | $1 \;\text{to}\; 3$ |
| 192| 0   | - | $3$ | $1$, $2$ |
| ^  | 1   | - | $4$ | $1$, $2$, $4$ |
| 194| 0   | - | $4$ | $1$, $2$ |
| ^  | 1   | - | $5$ | $1$, $2$, $5$ |
| 196| 0   | - | $2$ | $1$ |
| ^  | 1   | - | $4$ | $1$, $3$, $4$ |
| 198| 0   | - | $4$ | $1$, $2$ |
| ^  | 1   | - | $5$ | $1$, $2$, $5$ |
| 202| 0   | - | $8$ | $1$, $2^0$, $3^0$, $7$, $8$ |
| 204| 0   | - | $7$ | $1$, $2$, $3^0$, $4$, $5$, $6^0$, $7^0$ |
| 206| 0   | - | $5$ | $1$, $2$, $3^0$ |
| 208| 0   | $N = p(6)$ | $6+N$ | $5$, $7 \;\text{to}\; 6+N$ |
| 210| 0   | $N = p(2)$ | $2+N$ | $1$, $3 \;\text{to}\; 2+N$ |
| 212| 0~8,100~102,105| $N_S = p(1)$ | $1+12N_S$ | $(5+12(i-1))^-\; (i=1\ldots N_S)$ |
| 213| 0   | $N_S = p(12)$ | $20N_S + 12$ | $(24+20(i-1))^-\; (i=1\ldots N_S)$ |
| 214| 1~12| $N = p(1)$ | $6+2N$ | - |
| 216| 0~2 | - | $5$ | $1 \;\text{to}\; 3$, $4^0$, $5^0$ |
| 218| 0   | - | $2$ | $1$, $2$ |
| ^  | 1   | - | $3$ | $1 \;\text{to}\; 3$ |
| 220| 0   | - | $3$ | $1$, $2$, $3^0$ |
| 222| 0   | - | $4$ | $1$, $2$ |
| ^  | 1   | - | $5$ | $1$, $2$, $5^0$ |
| 228| 0~3,5001~9999| $N = p(2)$<br>$L = p(3+N)$ | $3+L+N$ | $3 \;\text{to}\; 2+N$, $4+N \;\text{to}\; 3+L+N$ |
| 230| 0,1 | $N = p(8)$ | $8+N$ | $1$, $9 \;\text{to}\; 8+N$ |
| 302| 5001~9999| $N_1 = p(4)$ | $4+N_1$
| 304| 1   | -  | $4$ | $2$ |
| ^  | 2   | $M = p(1)$ | $2+M$ | - |
| 306| 0   | TODO | TODO | - |
| 308| 0   | $N = p(3)$ | $3+N$ | $4 \;\text{to}\; 3+N$ |
| 310| 0   | $N = p(5)$<br>$N_M(i) = p(\sum_{j=1}^{i-1}N_M(j))$ | $5+4N+3\sum_{i=1}^{N}N_M(i)$ | $3^-$ |
| 312| 0,1 | - | $10$ | $3^-$ |
| 314| 0   | - | $4$ | - |
| 316| 0   | $N_P = p(1)$ | $1+3N_P$ | - |
| 320| 0   | $N_A = p(3)$<br>$N_C = p(7+N_A)$ | $7+N_C + N_A$ | $4 \;\text{to}\; 3+N_A$, $6+N_A$, $(8+N_A)^0 \;\text{to}\; (7+N_C + N_A)^0$ |
| 322| 0   | $N_A = p(3)$ | $3N_A+3$ | - |
| ^  | 1   | TODO | TODO | - |
| ^  | 2   |
| 402|
| 404| 0   | $N = p(1)$<br>$M = p(2+3N)$ | $2+M+3N$
| ^  | 1   | $N = p(1)$<br>$M = p(2+4N)$ | $2+M+4N$
| 406| 0~3,5~36 | $N_P = p(1)$ | $1+N_P$ | - |
| 408| 0   | - | $5$ | $1$ |
| 410| 0   | - | $8$ | $3^0 \;\text{to}\; 8^0$ |
| ^  | 1   | - | $22$ | - |
| 412| 0   | $L_C = p(11)$ | $12+L_C$ | $1$ |
| 414| 0   | $L_C = p(9)$ | $10+L_C$ | $1$ |
| 416| 0,2,4 | - | $2$ | - |
| ^  | 1,3 | - | $1$ | - |
| 418| 0   | $N_C = p(1)$ | $3+N_C$ | $3 \;\text{to}\; 3+N_C$ |
| 420| 0   | $N_C = p(11)$ | $11+N_C$ | $1$, $10^\varnothing$, $12^0 \;\text{to}\; (11+N_C)^0$ |
| 422| 0   | TODO | TODO | - |
| ^  | 1   | TODO | TODO | - |
| 430| 0,1 | - | $1$ | $1$ |
| 502| 1   | $N = p(1)$ | $1+3N$ | - |
| 504| 1   | $N = p(1)$ | $1+5N$ | $2+5(i-1)\; (i=1\ldots N)$, $3+5(i-1)\; (i=1\ldots N)$, $5+5(i-1)\; (i=1\ldots N)$ |
| 508| 0,1 | $N = p(1)$<br>$K(i) = p(6+5(i-1)+2\sum_{j=0}^{i-1}K(j))$ | $1+5N+2\sum{i=1}^{N}K(i)$ | $3+5(i-1)+2\sum_{j=0}^{i-1}K(j)\; (i=1\ldots N)$, $6+2k+5(i-1)+2\sum_{j=1}^{i-1}K(j)\; (i=1\ldots N,\; k=1\ldots K(i))$ |
| 510| 1   | $N = p(2)$ | $3+N$ | $1$, $4 \;\text{to}\; 3+N$ |
| 514| 1,2 | $N = p(1)$ | $1+2N$ | $2i\; (i=1\ldots N)$ |

> todo(size): 148, 306, 322(1,2), 402, 422
> todo(pointer): 148, 302, 322(2), 402, 404
